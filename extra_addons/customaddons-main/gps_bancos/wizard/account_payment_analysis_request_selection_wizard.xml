<?xml version="1.0"?>
<odoo>
    <data>

         <record id="account_payment_analysis_request_selection_form_wizard" model="ir.ui.view">
            <field name="name">account.payment.analysis.request.selection.wizard.form</field>
            <field name="model">account.payment.analysis.request.selection.wizard</field>
            <field name="type">form</field>
            <field eval="8" name="priority"/>
            <field name="arch" type="xml">
                <form string="Buscar documentos por Proveedor" version="16.0">
                    <group colspan="4">
                        <group>
<field name="company_id" colspan="2" options="{'no_create':True,'no_edit':True,'no_open':True}" readonly="1" force_save="1" />
                            <field name="partner_id" colspan="2"
                                   options="{'no_create':True,'no_edit':True,'no_open':True}" placeholder="SI ESTA VACIO,TODOS LOS PROVEEDORES"/>
                   <field name="filter_docs" invisible="1" />
                            <field name="show_options" invisible="1" />
                                <field name="request_id" invisible="1" />
                    <field name="selected_line_ids" invisible="1" />
                        </group>
                        <group>
                                       <field name="date_from" required="0" placeholder="SI ESTA VACIO ,DESDE EL INICIO" />
                            <field name="date_to" required="0" placeholder="SI ESTA VACIO ,HASTA EL FINAL"/>
                        </group>

                    </group>
                    <newline/>
                    <notebook>
                        <page string="Cuotas" attrs="{'invisible':[('show_options','=','show_invoices')]}">
                             <field name="line_ids" nolabel="1"
                           attrs="{'invisible':[('show_options','=','show_invoices')]}"
                domain="[('move_id.company_id','=',company_id),('move_id.state','=','posted')]"
                           context="{'not_request_id':request_id,'not_show_ids':[],'tree_view_ref':'gps_bancos.view_in_invoice_bill_line_tree','filter_docs':filter_docs,'show_for_payment':True,'default_company_id':company_id,'default_date_from':date_from,'default_date_to':date_to,'default_partner_ids':partner_id and [partner_id] or [],'default_show_options':show_options}"
                        />
                        </page>
                             <page string="Documentos"  attrs="{'invisible':[('show_options','!=','show_invoices')]}">
                            <field name="move_ids" nolabel="1" attrs="{'invisible':[('show_options','!=','show_invoices')]}"
                domain="[('company_id','=',company_id),('state','=','posted')]"
                           context="{'default_move_type': 'in_invoice','tree_view_ref':'account.view_in_invoice_bill_tree','not_request_id':request_id,'filter_docs':filter_docs,'show_for_payment':True,'default_company_id':company_id,'default_date_from':date_from,'default_date_to':date_to,'default_partner_ids':partner_id and [partner_id] or [],'default_show_options':show_options}"
                        />
                             </page>
                           <page string="Solicitudes" attrs="{'invisible':[('partner_id','=',False)]}">
                            <field name="request_ids" nolabel="1" readonly="1" force_save="1">
                                <tree>
                                    <field name="invoice_id" />
                                <field name="date_maturity" />
                                <field name="amount" sum="total"/>
                                <field name="paid" sum="total"/>
                                <field name="pending" sum="total"/>
      <field name="state" optional="show" widget="badge" decoration-muted="state=='cancelled'" decoration-info="state=='draft'" decoration-danger="state=='confirmed'" decoration-success="state=='done'" decoration-warning="state=='locked'"/>
<field name="request_wizard_id" />
                                </tree>

                            </field>
                        </page>
                    </notebook>



                    <newline/>
                  <footer>
						<button name="process" type="object" string="Procesar"
							icon='fa-cogs'  />

						<button special="cancel" name="cancel" string="Salir"
							colspan="2" type="object" icon='fa-times' />
					</footer>
                </form>
            </field>
         </record>



       <record
                id="account_payment_analysis_request_selection_form_wizard_act"
                model="ir.actions.act_window">
            <field name="name">Seleccionar Documentos por Proveedor</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.payment.analysis.request.selection.wizard</field>
            <field name="view_mode">form</field>
            <field name="view_id"
                   ref="account_payment_analysis_request_selection_form_wizard"/>
            <field name="target">new</field>
            <field name="context">{}</field>

        </record>

         <record
                id="account_payment_analysis_request_selection_form_wizard_liq_act"
                model="ir.actions.act_window">
            <field name="name">Seleccionar Documentos por Proveedor</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">account.payment.analysis.request.selection.wizard</field>
            <field name="view_mode">form</field>
            <field name="view_id"
                   ref="account_payment_analysis_request_selection_form_wizard"/>
            <field name="target">new</field>
            <field name="context">{'default_filter_docs':'03'}</field>

        </record>


    </data>


</odoo>