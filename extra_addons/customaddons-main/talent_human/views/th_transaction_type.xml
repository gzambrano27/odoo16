<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <!-- transaction type : Expenses -->

        <record model="ir.ui.view" id="hr_expenses_type_search_view">
            <field name="name">Search Expenses</field>
            <field name="model">th.transaction.type</field>
            <field name="arch" type="xml">
                <search string="Expenses">
                    <field name="code" />
                    <field name="name" />
                    <field name="type" />
                    <field name="type_expense" />
                    <field name="debit_account_id" />
                    <field name="credit_account_id" />
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="hr_expenses_type_tree_view">
            <field name="name">th.expenses.type.tree</field>
            <field name="model">th.transaction.type</field>
            <field name="arch" type="xml">
                <tree string="Expenses type">
                    <field name="code" />
                    <field name="name" />
                    <field name="type_expense" />
                    <field name="type" invisible="1" />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="hr_expenses_type_form_view">
            <field name="name">th.expenses.type.form</field>
            <field name="model">th.transaction.type</field>
            <field name="arch" type="xml">
                <form string="Expenses type">
                    <sheet string="Expenses type">
                        <label for="name" />
                        <h2><field name="name" /></h2>
                        <group col="4">
                            <field name="code" />
                            <field name="type_expense" required="1" />
                            <field name="debit_account_id" required="1" />
                            <field name="credit_account_id" required="1" />
                            <field name="generate_lines_employee" attrs="{'invisible':[('type_expense','!=','loans')]}" help="Este campo es utilizado para generar lineas de descuento en base a empleados seleccionados" />
                            <field name="type" invisible="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_hr_expenses_type_view">
            <field name="name">Tipos de Egresos</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">th.transaction.type</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','expenses')]</field>
            <field name="context">{'default_type':'expenses'}</field>
            <field name="search_view_id" ref="hr_expenses_type_search_view" />
        </record>

        <record id="action_hr_expenses_type_view_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence" />
            <field name="view_mode">tree</field>
            <field name="view_id" ref="hr_expenses_type_tree_view" />
            <field name="act_window_id" ref="action_hr_expenses_type_view" />
        </record>

        <record id="action_hr_expenses_type_view_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence" />
            <field name="view_mode">form</field>
            <field name="view_id" ref="hr_expenses_type_form_view" />
            <field name="act_window_id" ref="action_hr_expenses_type_view" />
        </record>

        <!-- transaction type : Incomes -->

        <record model="ir.ui.view" id="hr_incomes_type_search_view">
            <field name="name">Search Incomes</field>
            <field name="model">th.transaction.type</field>
            <field name="arch" type="xml">
                <search string="Incomes">
                    <field name="code" />
                    <field name="name" />
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="hr_incomes_type_tree_view">
            <field name="name">th.incomes.type.tree</field>
            <field name="model">th.transaction.type</field>
            <field name="arch" type="xml">
                <tree string="Incomes type">
                    <field name="code" />
                    <field name="name" />
                    <field name="type_income" />
                    <field name="sum_calculate_iess" />
                    <field name="type" invisible="1" />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="hr_incomes_type_form_view">
            <field name="name">th.incomes.type.form</field>
            <field name="model">th.transaction.type</field>
            <field name="arch" type="xml">
                <form string="Incomes type">
                    <sheet string="Incomes type">
                        <label for="name" />
                        <h2><field name="name" /></h2>
                        <group col="4">
                            <field name="code" />
                            <field name="type_income" required="1" />
                            <field name="sum_calculate_iess" />
                            <field name="value_extra" attrs="{'invisible':[('type_income','!=','extra_hours')],'required':[('type_income','=','extra_hours')]}" />
                            <field name="type" invisible="1" />
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_hr_incomes_type_view">
            <field name="name">Tipos de Ingresos</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">th.transaction.type</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('type','=','incomes')]</field>
            <field name="context">{'default_type':'incomes'}</field>
            <field name="search_view_id" ref="hr_incomes_type_search_view" />
        </record>

        <record id="action_hr_incomes_type_view_tree" model="ir.actions.act_window.view">
            <field eval="1" name="sequence" />
            <field name="view_mode">tree</field>
            <field name="view_id" ref="hr_incomes_type_tree_view" />
            <field name="act_window_id" ref="action_hr_incomes_type_view" />
        </record>

        <record id="action_hr_incomes_type_view_form" model="ir.actions.act_window.view">
            <field eval="2" name="sequence" />
            <field name="view_mode">form</field>
            <field name="view_id" ref="hr_incomes_type_form_view" />
            <field name="act_window_id" ref="action_hr_incomes_type_view" />
        </record>

    </data>
</odoo>
