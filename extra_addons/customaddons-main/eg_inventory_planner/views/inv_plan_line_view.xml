<odoo>
    <record id="inv_plan_line_search_view" model="ir.ui.view">
        <field name="name">inv.plan.line.search</field>
        <field name="model">inv.plan.line</field>
        <field name="arch" type="xml">
            <search>
                <field name="product_id"/>
                <field name="categ_id"/>
                <field name="supplier_id"/>
            </search>
        </field>
    </record>

    <record id="inv_plan_line_tree_view" model="ir.ui.view">
        <field name="name">inv.plan.line.tree</field>
        <field name="model">inv.plan.line</field>
        <field name="arch" type="xml">
            <tree editable="top" decoration-danger="color=='red'" decoration-warning="color=='yellow'"
                  create="false" delete="false">
                <field name="image_small" widget="image" class="o_image_40_cover" readonly="1"/>
                <field name="product_id" readonly="1"/>
                <field name="need_to_order" sum="Total Need to Order"/>
                <field name="velocity" readonly="1"/>
                <field name="unit_cost"/>
                <field name="sales_price"/>
                <field name="profit_percentage"/>
                <field name="color" invisible="1"/>
                <field name="categ_id" readonly="1" groups="base.group_no_one"/>
                <field name="sub_category_ids" readonly="1" groups="base.group_no_one" widget="many2many_tags"/>
                <field name="supplier_id" domain="[('id','in',supplier_ids)]" readonly="1"/>
                <field name="sold_qty" readonly="1"/>
                <field name="available_stock" readonly="1"/>
                <field name="incoming_stock" readonly="1"/>
                <field name="growth_multiplier"/>
                <field name="extra_stock_days"/>
                <field name="lead_time"/>
                <field name="supplier_ids" invisible="1"/>
                <field name="sales_out_in" readonly="1"/>
                <field name="total_cost" readonly="1" sum="Total Cost"/>
                <field name="total_profit" readonly="1" groups="base.group_no_one" sum="Total Profit"/>
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_inv_plan_line">
        <field name="name">Inventory Plan Line</field>
        <field name="res_model">inv.plan.line</field>
        <field name="view_mode">tree</field>
        <field name="domain">[('inv_plan_id','=',active_id)]</field>
    </record>

    <record model="ir.actions.server" id="create_purchase_order">
        <field name="name">Create Purchase Order</field>
        <field name="model_id" ref="model_inv_plan_line"/>
        <field name="binding_model_id" ref="model_inv_plan_line"/>
        <field name="state">code</field>
        <field name="code">records.create_purchase_order()</field>
        <field name="type">ir.actions.server</field>
    </record>

</odoo>