<?xml version="1.0" ?>

<odoo>
	<data>



         <record model="ir.ui.view"
                id="hr_leave_tree_view_inherit">
            <field name="name">hr.leave.inherit</field>
            <field name="model">hr.leave</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="hr_holidays.hr_leave_view_tree"/>
            <field name="arch" type="xml">

<field name="duration_display" position="attributes">
    <attribute name="invisible">1</attribute>
</field>
               <field name="duration_display" position="after">
                   <field name="number_days" />
               </field>
            </field>
         </record>

        <record model="ir.ui.view"
                id="hr_leave_form_view_inherit">
            <field name="name">hr.leave.inherit</field>
            <field name="model">hr.leave</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="hr_holidays.hr_leave_view_form_manager"/>
            <field name="arch" type="xml">

                  <field name="employee_id" position="attributes">
                         <attribute name="attrs">{}</attribute>
                  </field>



                <field name="multi_employee" position="before">
                    <field name="company_id" required="1"
                           options="{'no_quick_create': True,'no_create': True,'no_create_edit': True,'no_open':True}"
                    attrs="{'readonly':[('state','!=','draft')]}"

                    />

                </field>

                 <field name="holiday_status_id" position="before">



                    <field name="employee_id" required="1"
                           domain="[]"
                           options="{'no_quick_create': True,'no_create': True,'no_create_edit': True,'no_open':True}"/>


                    <field name="contract_id" required="1" force_save="1"
                           domain="[('employee_id','=',employee_id),('employee_id','in',employee_ids),('company_id','=',company_id),('state','=','open')]"
                           options="{'no_quick_create': True,'no_create': True,'no_create_edit': True,'no_open':True}"
                    attrs="{'readonly':[('state','!=','draft')]}"
                    />

                </field>


                            <label for="number_of_days_display" position="attributes">
                                <attribute name="string"># Dias Lab.</attribute>
                            </label>
                <field name="name" position="before">
                    <field name="number_days" readonly="1" force_save="1" />
                </field>

<field name="name" position="after">
    <field name="vacations" invisible="1"/>
        <field name="period_line_ids" string="Detalle" colspan="2" force_save="1"  nolabel="1" attrs="{'readonly':[('state','=','validate')],'invisible':[('vacations','!=',True)],'required':[('vacations','=',True)]}"


        >
        <tree string="Periodos" editable="bottom" >
            <field name="period_id" required="1"
                   options="{'no_quick_create': True,'no_create': True,'no_create_edit': True,'no_open':True}"
            domain="[('contract_id','=',parent.contract_id),('state','=','confirmed'),('attempt_pending_days','&gt;',0)]"
            />
            <field name="days" required="1"
                   sum="total" />
 <field name="name" readonly="1" force_save="1" widget="badge" optional="hide"/>
            <field name="description" readonly="1" force_save="1" widget="badge" />
            <field name="vacation_pending_days" optional="hide" />
             <field name="vacation_attempt_pending_days" optional="hide" />
             <field name="vacation_attempt_days" optional="hide" />
             <field name="vacation_days" optional="hide" />
<field name="date" invisible="1" />
        </tree>

            <form string="Periodos"  >
                <group>
                     <group>
                     <field name="period_id" required="1"
                   options="{'no_quick_create': True,'no_create': True,'no_create_edit': True,'no_open':True}"
            domain="[('contract_id','=',parent.contract_id),('state','=','confirmed'),('attempt_pending_days','&gt;',0)]"
            />
            <field name="days" required="1"
                   sum="total" />
                </group>
                     <group>
                                <field name="description" readonly="1" force_save="1" widget="badge"/>
            <field name="vacation_pending_days" readonly="1" force_save="1"  />
             <field name="vacation_attempt_pending_days" readonly="1" force_save="1"  />
             <field name="vacation_attempt_days"  readonly="1" force_save="1"  />
             <field name="vacation_days" readonly="1" force_save="1"  />
                </group>

                </group>




        </form>

    </field>
</field>


 <xpath expr="//div[@name='title']//field[@name='employee_ids']" position="attributes">
    <attribute name="invisible">1</attribute>
</xpath>

                  <xpath expr="//group[@name='col_left']//field[@name='employee_ids']" position="attributes">
    <attribute name="invisible">1</attribute>
</xpath>

                  <xpath expr="//field[@name='holiday_type']" position="attributes">
    <attribute name="readonly">1</attribute>
                        <attribute name="force_save">1</attribute>
</xpath>



            </field>
        </record>



    </data>


</odoo>