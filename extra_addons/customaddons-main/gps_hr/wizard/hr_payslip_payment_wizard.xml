<?xml version="1.0"?>
<odoo>
	<data>


<odoo>
  <record id="view_hr_payslip_payment_wizard_form" model="ir.ui.view">
    <field name="name">hr.payslip.payment.wizard.form</field>
    <field name="model">hr.payslip.payment.wizard</field>
    <field name="arch" type="xml">
      <form string="Pagar Líneas de Rol">
        <group>
            <group>
          <field name="payslip_id" readonly="1" options="{'no_create': True,'no_open': True,'no_edit': True}" required="1"/>
<field name="total" readonly="1"  />


      </group>
   <group>
         <field name="company_id" readonly="1" options="{'no_create': True,'no_open': True,'no_edit': True}" required="1"/>
          <field name="currency_id" readonly="1"
                 invisible="1"
                 options="{'no_create': True,'no_open': True,'no_edit': True}" required="1"/>
<field name="comments" placeholder="COMENTARIOS..." />
   </group>
        </group><notebook>
          <page string="Detalle">
                   <field name="payslip_line_ids"
                 domain="[('slip_id', '=', payslip_id),('company_id', '=', company_id),('category_code','!=','PRO'),('enable_adjust','=',True)]">
                           <tree string="Estructura salarial"
                           decoration-danger="category_code=='OUT'" decoration-success="category_code=='IN'" decoration-muted="category_code=='PRO'"
                           >
                                <field name="name"  />
                    <field name="category_code" />
                                <field name="code"   optional="hide"  />
                                <field name="category_id" options="{'no_create': True,'no_open': True,'no_edit': True}" optional="show" />
                                <field name="sequence" invisible="1" />
                                <field name="quantity" invisible="1"  />
                                <field name="rate" invisible="1"   />
                                <field name="salary_rule_id" options="{'no_create': True,'no_open': True,'no_edit': True}"  />
                                <field name="amount" force_save="1" on_change="1"  />
                                <field name="total" force_save="1" on_change="1"  />
                                <field name="currency_id" options="{'no_create': True,'no_open': True,'no_edit': True}" invisible="1"/>

                               <field name="adjust_total"   optional="hide"  />
                               <field name="pending_adjust_total"   optional="hide"  />


                            </tree>

                       <form string="Estructura salarial"
                       edit="false"    create="false" delete="false"
                       >
                           <group>
                                <group>
                                 <field name="name" readonly="1" />
                    <field name="category_code" readonly="1"/>
                                <field name="code"  readonly="1"/>
                                <field name="category_id" options="{'no_create': True,'no_open': True,'no_edit': True}" readonly="1" />
                                <field name="sequence" invisible="1"/>
                                <field name="quantity" readonly="1" />
                                <field name="rate" invisible="1" />

                           </group>
                                 <group>
                                     <field name="salary_rule_id" options="{'no_create': True,'no_open': True,'no_edit': True}" readonly="1"/>
                                <field name="amount" readonly="1"  />
                                <field name="total" readonly="1"  />
                                <field name="currency_id" options="{'no_create': True,'no_open': True,'no_edit': True}" invisible="1" />
                           </group>

                           </group>

                            </form>

                   </field>
          </page>
          <page string="Líneas a Pagar">
                  <field name="line_ids">
          <tree editable="bottom">
            <field name="salary_rule_id"  options="{'no_create': True,'no_open': True,'no_edit': True}"
            attrs="{'readonly':[('payslip_line_id','!=',False)]}"
                   force_save="1"
                   domain="[('legal_iess','=',True),('category_id.code','=','IN'),('type','not in',('discount','liquidation')) ]"
            />
              <field name="action" required="1" readonly="1" force_save="1" optional="hide" />

                <field name="amount_adjust" sum="total"/>
                <field name="amount_adjust_signed" sum="total" optional="hide"/>

              <field name="amount" sum="total" readonly="1" force_save="1"/>
            <field name="comments" required="1"/>
              <field name="category_id" readonly="1" force_save="1" options="{'no_create': True,'no_open': True,'no_edit': True}"  optional="hide"        />
              <field name="category_code"  readonly="1" force_save="1" optional="hide"/>
<field name="payslip_line_id" readonly="1" force_save="1"  options="{'no_create': True,'no_open': True,'no_edit': True}"  optional="hide" />
<field name="account_id"  readonly="1" force_save="1" options="{'no_create': True,'no_open': True,'no_edit': True}" />
              <field name="debit" sum="total" />
<field name="credit" sum="total" />

       <field name="adjust_total" sum="total" optional="hide"/>
               <field name="pending_adjust_total" sum="total" optional="hide"/>

          </tree>
        </field>
          </page>
      </notebook>





        <footer>
          <button name="action_confirm_payment" type="object" string="Confirmar Pago" icon="fa-check"/>
          <button string="Cancelar" icon="fa-times" special="cancel"/>
        </footer>
      </form>
    </field>
  </record>


     <record id="action_hr_payslip_payment_wizard" model="ir.actions.act_window">
    <field name="name">Pagar Líneas de Rol</field>
    <field name="res_model">hr.payslip.payment.wizard</field>
    <field name="view_mode">form</field>
    <field name="view_id" ref="view_hr_payslip_payment_wizard_form"/>
    <field name="target">new</field>
    <field name="context">{}</field>
  </record>


</odoo>








    </data>


</odoo>